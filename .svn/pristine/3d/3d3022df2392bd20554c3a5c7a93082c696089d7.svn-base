webpackJsonp([19],{XJ7q:function(t,i){},czmD:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e={name:"orderDetail",components:{vHeader:s("ODaZ").a},data:function(){return{timeList:[{id:1,text:"2017-01-01 周六 19:00"},{id:2,text:"2017-01-01 周六 19:00"}],sceneId:"",priceList:[{id:1,text:"80",stock:!1},{id:2,text:"180",stock:!0},{id:3,text:"280",stock:!0}],priceId:"",count:1,maxCount:20,popShow:!1,appointmentCount:1}},methods:{getInfo:function(){var t=this,i=this.$route.query.itemId;this.$api.itemInfo.itemInfo({ticketId:i}).then(function(i){t.toast("请求了")})},selectScene:function(t){this.sceneId=t},selectPrice:function(t,i){if(!i)return this.appointmentCount=1,void(this.popShow=!0);this.priceId=t},closePop:function(){this.popShow=!1},add:function(){this.popShow?this.appointmentCount>=this.maxCount?this.appointmentCount=this.maxCount:this.appointmentCount++:this.count>=this.maxCount?this.count=this.maxCount:this.count++},reduce:function(){this.popShow?this.appointmentCount>1?this.appointmentCount--:this.appointmentCount=1:this.count>1?this.count--:this.count=1},limitInput:function(t){t.target.value.length>2&&(this.count=t.target.value.slice(0,2)),t.target.value>=this.maxCount&&(this.count=this.maxCount)},toConfirm:function(){this.$router.push("/orderConfirm")}},mounted:function(){this.getInfo()}},n={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"selection-wrap"},[s("v-header",{attrs:{title:"立即购票",haveBack:!0}}),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"scene ct-item"},[t._m(0),t._v(" "),s("div",{staticClass:"select-box"},t._l(t.timeList,function(i){return s("div",{key:i.id,staticClass:"select-item",class:{on:t.sceneId==i.id},on:{click:function(s){return t.selectScene(i.id)}}},[t._v(t._s(i.text))])}),0)]),t._v(" "),s("div",{staticClass:"price ct-item"},[s("div",{staticClass:"tt"},[s("h3",[t._v("票价 "+t._s("single"==t.$route.query.type?"":"拼团"))]),t._v(" "),t._m(1)]),t._v(" "),s("div",{staticClass:"select-box"},t._l(t.priceList,function(i){return s("div",{key:i.id,staticClass:"select-item",class:{on:t.priceId==i.id,none:!i.stock},on:{click:function(s){return t.selectPrice(i.id,i.stock)}}},[t._v("￥"+t._s(i.text))])}),0)]),t._v(" "),s("div",{staticClass:"selct-num ct-item"},[s("div",{staticClass:"tt none"},[s("h3",[t._v("选择数量")]),t._v(" "),s("div",{staticClass:"rt-cacl"},[s("div",{staticClass:"op-btn",on:{click:t.reduce}},[t._v("-")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.count,expression:"count",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",onpaste:"return false;",maxlength:"2"},domProps:{value:t.count},on:{input:[function(i){i.target.composing||(t.count=t._n(i.target.value))},t.limitInput],blur:function(i){return t.$forceUpdate()}}}),t._v(" "),s("div",{staticClass:"op-btn",on:{click:t.add}},[t._v("+")])])])])]),t._v(" "),s("div",{staticClass:"bottom-box"},[t._m(2),t._v(" "),s("div",{staticClass:"bottom-btn",on:{click:t.toConfirm}},[t._v("确定")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"pop-wrap"},[s("div",{staticClass:"pop-box"},[s("div",{staticClass:"pop__top"},[s("div",{staticClass:"pop__title"},[t._v("缺货登记")]),t._v(" "),s("div",{staticClass:"pop_colse_btn",on:{click:t.closePop}})]),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"input__box"},[s("div",{staticClass:"input__item"},[s("div",{staticClass:"rt-cacl"},[s("div",{staticClass:"op-btn reduce",on:{click:t.reduce}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.appointmentCount,expression:"appointmentCount",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",onpaste:"return false;",maxlength:"2"},domProps:{value:t.appointmentCount},on:{input:[function(i){i.target.composing||(t.appointmentCount=t._n(i.target.value))},t.limitInput],blur:function(i){return t.$forceUpdate()}}}),t._v(" "),s("div",{staticClass:"op-btn add",on:{click:t.add}})])]),t._v(" "),t._m(4)]),t._v(" "),s("div",{staticClass:"pop__tips"},[t._v("此票价暂时缺货，您可进行缺货登记。我们会记录您的基本信息。待到货时我们会第一时间通知您。若始终缺货，趣票将不做另行通知。")]),t._v(" "),s("div",{staticClass:"pop__btn"},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"tt"},[i("h3",[this._v("场次")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"rt"},[i("p",[this._v("查看座位")]),this._v(" "),i("i",{staticClass:"icon icon-seat"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"total-box"},[i("div",{staticClass:"prices"},[i("div",{staticClass:"now"},[this._v("￥600")]),this._v(" "),i("div",{staticClass:"old"},[this._v("￥700")])]),this._v(" "),i("div",{staticClass:"discount"},[this._v("已优惠￥100")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"scene"},[i("div",{staticClass:"time"},[this._v("场次票价 2109-07-11 周四 19:20")]),this._v(" "),i("div",{staticClass:"price"},[this._v("￥440")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"input__item"},[i("input",{staticClass:"fill",attrs:{type:"text",placeholder:"请输入手机号码"}})])}]};var a=s("VU/8")(e,n,!1,function(t){s("XJ7q")},"data-v-161627a3",null);i.default=a.exports}});